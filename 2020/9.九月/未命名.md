# HashMap 扩容机制是什么样的？

韭菜：我们知道数组容量是有限的
当数据多次插入超过一定的数量时就会扩容
衡量这一标准的就是负载因子
负载因子大小为 0.75f 
也就是说一个容量为 16 的HashMap
当插入第 13 个时就会扩容
张三：那他是怎么扩容的呢？
韭菜：Hashmap 首先会创建一个新的数组
它的长度是原先的两倍
接着会遍历原数组
把所有 entry 都挪过去
张三：那为什么要 Hash 呢？
韭菜：我们知道 hash 值得计算方法是：
HashCode & （Length - 1）
所以长度变化后
hash 值也会随之变化
张三：那迁移时为什么使用尾插法呢？
韭菜：使用头插法会改变列表的顺序
可能会出现首尾相连成环的问题
但如果是尾插法
就不会影响原有顺序
也就我们解决了链表成环的问题

我是黎明韭菜，一个xxxx的程序员