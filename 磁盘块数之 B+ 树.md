# B+ 树    

## 100000记录 ，  每个记录 50B  ， 每个指针 5B ，  每个键值占 10B ， 磁盘块占 1000B





#### 1. 	求 磁盘块数？/占用的节点数？

（1）内节点：TP <K> TP <K> TP <K> 。。。 TP  (指针数（x -  1） = 键值数)

   (2)   叶节点：TP<K, DP>  TP<K, DP>  TP<K, DP>  ... TP<K, DP>  	(指针数 = 键值数)



设：一个节点放 X 个指针：

​		5 * X + 10 * (X-1) = 1000

​		X = 67

键值数 = X - 1 = 67 - 1 = 66



- 100000 / 66 （向上取整）= 1516

- 1 -> 67   : 叶节点 1516 的上一层内节点数：  1516 / 67（向上取整） = 23

- 23 / 67 = 1

>  几层？ 三层！

 

磁盘块数 == 节点数 == 1516 + 23 + 1 = 1540





#### 2. 求 读取一个数据块，所需要读取/访问磁盘块数？

B 树 两种 问法：

- 至少需要读取/访问磁盘块数？
- 至多需要读取/访问磁盘块数？



B+ 一种问法（或者说，两种问法：求法一样）：

- 至多需要读取/访问磁盘块数？



B+ 树读取一个数据块，所需要读取/访问磁盘块数 = 其层数 + 1 = 3 + 1 = 4





答： 读取一个数据块，所需要读取/访问磁盘块数为 4
